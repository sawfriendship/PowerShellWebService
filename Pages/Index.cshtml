@page
@model IndexModel

@{
    ViewData["Title"] = "Home page";
}
@* <h1>@ViewData["Title"]</h1> *@

@if (!@Model.IsAuthenticated && !@Model.IsDevelopment) {
    <div class="text-center"><h3>Вы не авторизованы</h3></div>
} else if (!(@Model.UserIsInRoleAdmin || @Model.UserIsInRoleUser) && !@Model.IsDevelopment) {
    <div class="text-center"><h3>У вас нет прав на просмотр этой страницы</h3></div>
} else {
    if (@Model.IsDevelopment) {
        <h3 style="color:red;">Включен режим разработки, права пользователей не учитываются!</h3>
    }
    if (@Model.UserIsInRoleAdmin || @Model.IsDevelopment) {
        <h3>Вы зашли в роли администратора</h3>
        <p><b>Этот сервис предназначен для работы на веб-сервере IIS для упрощения обмена данными с PowerShell.</b></p>
        <br>
        <p>Он очень простой, потому что предназначен для тех, кому трудно разобраться в C#, но владеет другими языками и хочет получить мощность PowerShell</p>
        <br>
        <p>Вы можете написать веб-сервис на вашем любимом языке и использовать PowerShellWebService внутри него,<br> это может быть Go, Python, PHP, Perl, Java, JavaScript или что-то еще на ваше усмотрение.</p>
        <br>
        
        <p>И пожалуйста, не надо больше запускать PowerShell.exe и разбирать stdout,<br> ведь у него под капотом 6 потоков вывода вместо 2 и вы можете пропустить самое интересное :-) Смотрите ниже "Output Streams"</p>
        <p>Важно <a href="https://learn.microsoft.com/en-us/powershell/module/microsoft.powershell.core/about/about_output_streams?view=powershell-7.3">About PowerShell Output Streams</a>.</p>
        <p>Руководство <a href="https://learn.microsoft.com/ru-ru/aspnet/core/tutorials/publish-to-iis?view=aspnetcore-7.0">Публикация приложения ASP.NET Core в службах IIS</a>.</p>
        <p>Руководство <a href="https://learn.microsoft.com/ru-ru/aspnet/core/tutorials/min-web-api?view=aspnetcore-7.0">Создание минимального API с помощью ASP.NET Core</a>.</p>
        <p>Документация <a href="https://learn.microsoft.com/ru-ru/aspnet/core/?view=aspnetcore-7.0">ASP.NET</a>.</p>
    } else {
        <h3>Вы зашли в роли пользователя</h3>
        <p><b>Этот сервис предназначен для работы на веб-сервере IIS для упрощения обмена данными с PowerShell.</b></p>
        <br>
        <p>Он очень простой, потому что предназначен для тех, кому трудно разобраться в C#, но владеет другими языками и хочет получить мощность PowerShell</p>
        <br>
        <p>Вы можете написать веб-сервис на вашем любимом языке и использовать PowerShellWebService внутри него,<br> это может быть Go, Python, PHP, Perl, Java, JavaScript или что-то еще на ваше усмотрение.</p>
        <br>
    }
}


